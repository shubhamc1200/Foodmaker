{%extends "base_layout.html" %}

{%block content_for_css_js %}
<style type="text/css">
  #map {
    height: 400px;
    /* The height is 400 pixels */
    width: 100%;
    /* The width is the width of the web page */
  }
</style>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>  <!--  for jquey ajax -->

<script>
var x = document.getElementById("demo");

function getLocation() {
if (navigator.geolocation) {
navigator.geolocation.getCurrentPosition(initMap);
} else {
x.innerHTML = "Geolocation is not supported by this browser.";
}
}

  // Initialize and add the map
function initMap(position) {

      // The location of Uluru
      const uluru = { lat: position.coords.latitude, lng: position.coords.longitude }; //mumbai's coordinates

      // The map, centered at Uluru
   const map = new google.maps.Map(document.getElementById("map"), {
     zoom: 14,
     center: uluru,
   });
   // The marker, positioned at Uluru
   addMarker({coords:{lat:19.1663, lng: 72.8526}});
   addMarker({coords:{lat:19.1874, lng: 72.8484}});
   addMarker({coords:{lat:19.1674, lng: 72.8384}});
    function addMarker(paramet){
    var marker= new google.maps.Marker({
      position:paramet.coords,
      map:map,
    })

   }

    }

</script>
{%endblock%}

{%block content %}
    <!--The div element for the map -->

    <section class="page-section portfolio" id="portfolio">
                <div class="container">
                    <!-- Portfolio Section Heading-->
                    <h2 class=" text-center text-uppercase text-secondary ">Find Your Nearest Foodmaker!</h2>
                    <!--underline -->
                    <div class="divider-custom">
                        <div class="divider-custom-line"></div>
                        <div class="divider-custom-icon"><i class="fas fa-star"></i></div>
                        <div class="divider-custom-line"></div>
                    </div>
          			 <div id="map"> <button class="center"  onclick=" getLocation()">Locate Me!</button></div>
          			 <!-- GOOGLE MAPS --><script
          src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgRx6UQGScnEizmzSWu0m5csw-vrmwqfg
    &callback=initMap&libraries=&v=weekly"
          async></script>
        </div>
            </section>

    <!-- Async script executes immediately and must be after any DOM elements used in callback. -->
    <script
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDgRx6UQGScnEizmzSWu0m5csw-vrmwqfg
&callback=initMap&libraries=&v=weekly"
      async></script>
{%endblock%}
